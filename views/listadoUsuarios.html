<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./lib/css/bootstrap.css" crossorigin="anonymous">
  </head>
 
  
  <body>
      {% include './headerdeSesiones.html.twig' %}
      {% include './menuDeListarUsuario.html.twig' %}
      <section class="container mt-5 pt-5 mb-5 pb-5">
        <div class="container">
            <div class="row col-12">
              
              <div class="w-100 pb-4"></div>
              <span class="col-12  border-primary border border-left-0 border-right-0 border-top-0">
                  <div class="col-12 ">
                      <div class="d-flex align-content-stretch flex-wrap">
                          <div class="mr-auto p-1">Mail</div>
                          <div class="mr-auto p-1">Nombre de Usuario</div>
                          <div class="mr-auto p-1">                    
                        </div>
                  </div>
                  </span>
                {% for resultado in resultados %}
                <span class="col-12  border-primary border border-left-0 border-right-0 border-top-0">
                      <div class="col-12 ">
                          <div class="d-flex align-content-stretch flex-wrap">
                              <div class="mr-auto p-1">{{resultado.email}}</div>
                              <div class="mr-auto p-1">{{resultado.userName}}</div>
                              
                              <div class="p-1">
                                    <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#{{resultado.userName}}">
                                            Mostrar
                                        </button>
                              </div>
                              <div class="modal fade" id="{{resultado.userName}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content bg-dark text-white">
                                            <div class="modal-header">
                                                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                                
                                            </div>
                                            <div class="modal-body">
                                                    <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>NOMBRE de Usuario:</div></div>
                                                            <div class="p-2"><div>{{resultado.userName}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>Nombre:</div></div>
                                                            <div class="p-2"><div>{{resultado.firstName}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>Apelligo:</div></div>
                                                            <div class="p-2"><div>{{resultado.lastName}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>E-MAIL:</div></div>
                                                            <div class="p-2"><div>{{resultado.email}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>ESTADO:</div></div>
                                                            <div class="p-2"><div>{{resultado.activo}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>Ultima Modificacion:</div></div>
                                                            <div class="p-2"><div>{{resultado.updatedAt}}</div></div>
                                                        </div>
                                                        <div class="d-flex align-content-stretch flex-wrap">
                                                            <div class="mr-auto p-2"><div>Fecha Creacion:</div></div>
                                                            <div class="p-2"><div>{{resultado.createdAt}}</div></div>
                                                        </div> 
                                            </div>
                                        </div>
                                    </div>
                                </div> 
                                  
                                



                              <div class="p-1"><a href="?c=Usuario&m=vistaCambiarRoles&id={{resultado.idUsuario}}"><button type="button" class="btn btn-dark btn-sm">Editar Roles</button></a></div>
                              <!-- Ventana para asegurar la intencion de eliminado -->
                            {% for permiso in permisos %}
                              {% if permiso.nombre == 'edit'%}
                                <div class="p-1"><a href="?c=Usuario&m={{permiso.nombre}}&id={{resultado.idUsuario}}"><button type="button" class="btn btn-warning btn-sm text-white">Editar Info</button></a></div>
                              {% endif %}
                              {% if permiso.nombre == 'delete'%}
                                <div class="p-1"><a href="?c=Usuario&m={{permiso.nombre}}&id={{resultado.idUsuario}}"><button type="button" class="btn btn-danger btn-sm text-white">Eliminar</button></a></div>
                              {% endif %}
                            {% endfor %} 
                            </div>                             
                      </div>
                </span>
                {% endfor %}
                      
                
                    
            </div>
          </div>

      </section>
      {% include './paginador.html.twig' %}
      {% include './footer.html.twig' %}
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="./lib/js/bootstrap.js"></script>
    </body>

    
</html>